<html><head><meta charset="utf-8" /><style>.pydocx-caps {text-transform:uppercase}.pydocx-center {text-align:center}.pydocx-comment {color:blue}.pydocx-delete {color:red;text-decoration:line-through}.pydocx-hidden {visibility:hidden}.pydocx-insert {color:green}.pydocx-left {text-align:left}.pydocx-list-style-type-cardinalText {list-style-type:decimal}.pydocx-list-style-type-decimal {list-style-type:decimal}.pydocx-list-style-type-decimalEnclosedCircle {list-style-type:decimal}.pydocx-list-style-type-decimalEnclosedFullstop {list-style-type:decimal}.pydocx-list-style-type-decimalEnclosedParen {list-style-type:decimal}.pydocx-list-style-type-decimalZero {list-style-type:decimal-leading-zero}.pydocx-list-style-type-lowerLetter {list-style-type:lower-alpha}.pydocx-list-style-type-lowerRoman {list-style-type:lower-roman}.pydocx-list-style-type-none {list-style-type:none}.pydocx-list-style-type-ordinalText {list-style-type:decimal}.pydocx-list-style-type-upperLetter {list-style-type:upper-alpha}.pydocx-list-style-type-upperRoman {list-style-type:upper-roman}.pydocx-right {text-align:right}.pydocx-small-caps {font-variant:small-caps}.pydocx-strike {text-decoration:line-through}.pydocx-tab {display:inline-block;width:4em}.pydocx-underline {text-decoration:underline}body {margin:0px auto}</style></head><body><h3>Tomcat HttpServletRequest中几个解析URL的函数</h3><p>在Servlet处理URL请求的路径时，HTTPServletRequest有如下几个常用的函数：</p><ul><li>request.getRequestURL()：返回全路径；</li><li>request.getRequestURI()：返回除去Host（域名或IP）部分的路径；</li><li>request.getContextPath()：返回工程名部分，如果工程映射为/，则返回为空；</li><li>request.getServletPath()：返回除去Host和工程名部分的路径；</li><li>request.getPathInfo()：仅返回传递到Servlet的路径，如果没有传递额外的路径信息，则此返回Null；</li></ul><p>网上的一个小结，Servlet的匹配路径为/test%3F/*，并且Web应用是部署在/app下，此时请求的URL为http://30thh.loc:8480/app/test%3F/a%3F+b;jsessionid=s%3F+ID?p+1=c+d&amp;p+2=e+f#a，各个函数解析如下表：</p><table border="1"><tr><td><span class="pydocx-left">函数</span></td><td><span class="pydocx-left">URL解码</span></td><td><span class="pydocx-left">解析结构</span></td></tr><tr><td><span class="pydocx-left">getRequestURL()</span></td><td><span class="pydocx-left">no</span></td><td><span class="pydocx-left">http://30thh.loc:8480/app/test%3F/a%3F+b;jsessionid=s%3F+ID</span></td></tr><tr><td><span class="pydocx-left">getRequestURI()</span></td><td><span class="pydocx-left">no</span></td><td><span class="pydocx-left">/app/test%3F/a%3F+b;jsessionid=s%3F+ID</span></td></tr><tr><td><span class="pydocx-left">getContextPath()</span></td><td><span class="pydocx-left">no</span></td><td><span class="pydocx-left">/app</span></td></tr><tr><td><span class="pydocx-left">getServletPath()</span></td><td><span class="pydocx-left">yes</span></td><td><span class="pydocx-left">/test?</span></td></tr><tr><td><span class="pydocx-left">getPathInfo()</span></td><td><span class="pydocx-left">yes</span></td><td><span class="pydocx-left">/a?+b</span></td></tr></table></body></html>